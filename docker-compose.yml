version: '3.8'

services:
  twelve_labs:
    build: .
    container_name: twelve_labs_app
    volumes:
      # 挂载代码目录（方便开发时修改代码）
      - .:/app
      # 持久化模型缓存（避免每次重新下载 Whisper 模型）
      - whisper_models:/root/.cache/huggingface
    environment:
      - PYTHONUNBUFFERED=1
    # 如果有 .env 文件，自动加载
    env_file:
      - .env
    command: python scripts/dev/run_audio_demo.py

volumes:
  whisper_models:
